<section class="content-header">
  <div class="container-fluid">
    <div class="row mb-2">
      <div class="col-sm-10">
        <h1>Delivery Order</h1>
      </div>
      <div class="col-sm-2"></div>
    </div>
  </div>
</section>
<section class="content">
  <div class="container-fluid" *ngIf="!isLoading">
    <div class="row">
      <div class="col-12">
        <div class="invoice p-3 mb-3">
          <div class="row">
            <div class="col-12">
              <h4>
                <small class="float-right">Date: {{ data.issued_date | date:'d MMM yyyy' }}</small>
              </h4>
            </div>
          </div>
          <div class="row invoice-info">
            <div class="col-sm-4 invoice-col">
              From
              <address>
                <strong>{{ data.issue_from.name }}</strong>
                <br>{{ data.issue_from.registration_num }}
                <br>{{ data.issue_from.addr_line_1 | uppercase }}<ng-container *ngIf="data.issue_from.addr_line_2">, {{ data.issue_from.addr_line_2 | uppercase }}</ng-container>
                <ng-container *ngIf="data.issue_from.addr_line_3">,<br>{{ data.issue_from.addr_line_3 | uppercase }}</ng-container>
                <br>{{ data.issue_from.postcode }} {{ data.issue_from.city | uppercase }}
                <br>{{ data.issue_from.state.name | uppercase }}, {{ data.issue_from.country.name | uppercase }}
                <br>Phone: {{ data.issue_from.contact_no }}
                <br>Email: {{ data.issue_from.email }}
              </address>
            </div>
            <div class="col-sm-4 invoice-col">
              To
              <address>
                <strong>{{ data.buyer.name }}</strong>
                <br>{{ data.buyer.registration_num }}
                <br>{{ data.buyer.addr_line_1 | uppercase }}<ng-container *ngIf="data.buyer.addr_line_2">, {{ data.buyer.addr_line_2 | uppercase }}</ng-container>
                <ng-container *ngIf="data.buyer.addr_line_3">,<br>{{ data.buyer.addr_line_3 | uppercase }}</ng-container>
                <br>{{ data.buyer.postcode }} {{ data.buyer.city | uppercase }}
                <br>{{ data.buyer.state.name | uppercase }}, {{ data.buyer.country.name | uppercase }}
                <br>Phone: {{ data.buyer.contact_no }}
                <br>Email: {{ data.buyer.email }}
              </address>
            </div>
            <div class="col-sm-4 invoice-col">
              <b>Delivery Order #{{ data.do_num }}</b><br>
            </div>
          </div>

          <div class="row">
            <div class="col-12 table-responsive">
              <table class="table table-striped">
                <thead>
                  <tr>
                    <th>#</th>
                    <th>Material</th>
                    <th>Truck</th>
                    <th>Driver</th>
                    <th>I/C No.</th>
                    <th>Weight (tons)</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>1</td>
                      <td>{{ data.material.name }} {{ data.material.material_type }} {{ data.material.grade }}</td>
                      <td>{{ data.truck.registration_num }}</td>
                      <td>{{ data.driver.name }}</td>
                      <td>{{ data.driver.id_num }}</td>
                      <td>{{ data.actual_weight }}</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>

          <div class="row">
            <div class="col-6">
              <p class="lead">Destination:</p>
              <p class="text-muted well well-sm shadow-none" style="margin-top: 10px;">
                {{ data.recv_name }}<br>
                {{ data.recv_addr_line_1 | uppercase }}<ng-container *ngIf="data.recv_addr_line_2">, {{ data.recv_addr_line_2 | uppercase }}</ng-container>
                <ng-container *ngIf="data.recv_addr_line_3">, {{ data.recv_addr_line_3 | uppercase }}</ng-container>
                {{ data.recv_postcode }} {{ data.recv_city | uppercase }}
                {{ data.recv_state.name | uppercase }}, {{ data.recv_country.name | uppercase }}
              </p>
            </div>
          </div>

          <div class="row no-print">
            <div class="col-12">
              <button type="button" class="btn btn-outline-dark mr-2" (click)="onBack()"><i class="fas fa-chevron-circle-left"></i> Back</button>
              <a [routerLink]="['/delivery-order', id, 'print']" target="_blank" class="btn btn-default"><i class="fas fa-print"></i> Print</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
